<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, minimum-scale=1 maximum-scale=2, user-scalable=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vant@2.12/lib/index.css" />
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vant@2.12/lib/vant.min.js"></script>
</head>

<body>
    <div id="areaProve" class="area_prove" v-clock>
        <div class="no_up_load">
            <div class="no_upload-title">级联</div>
            <van-field v-model="fieldValue" is-link readonly label="选择地区" placeholder="请选择您的城市、地区" @click="show = true"></van-field>
            <van-popup v-model="show" round position="bottom">
                <van-cascader title="请选择您的城市、地区" v-model="cascaderValue" :options="options" @close="show = false"
                    @change="onChange" @finish="onFinish" :field-names="fieldNames"></van-cascader>
            </van-popup>
        </div>

    </div>
    <script>

        var vm = new Vue({
            el: '#areaProve',
            data: {
                show: false,
                fieldValue: '',
                cascaderValue: '',
                fieldNames: {
                    text: 'name',
                    value: 'id',
                    children: 'children'
                },
                options: [
                ],
                chooseCity: {},
                chooseCityIndex: 0,
                chooseCountry: {}
            },
            created: function () {
                this.hosts = SQYC.sendLink.registerHost('gw-driver-wap.01zhuanche.com')
            },
            mounted: function () {
                this.options = [
                    {
                        text: '浙江省',
                        value: '330000',
                        children: [{ text: '杭州市', value: '330100' }],
                    },
                    {
                        text: '江苏省',
                        value: '320000',
                        children: [{ text: '南京市', value: '320100' }],
                    }
                ]
            },
            methods: {
                queryInfo () {
                    
                },
                onChange(option) {
                    console.log('选择',option)
                },
                onFinish(option) {
                    this.show = false;
                    this.fieldValue = option.selectedOptions.map(function(option){option.name}).join(' ');
                    console.log('最终结果', option)
                }
            }
        });
    </script>
</body>

</html>